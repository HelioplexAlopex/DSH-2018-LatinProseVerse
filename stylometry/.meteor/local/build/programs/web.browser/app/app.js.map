{"version":3,"sources":["meteor://ðŸ’»app/imports/ui/pages/helpers.js","meteor://ðŸ’»app/imports/ui/pages/sresults.js","meteor://ðŸ’»app/imports/ui/pages/stylometry.js","meteor://ðŸ’»app/imports/ui/layouts/main.js","meteor://ðŸ’»app/imports/ui/2.js","meteor://ðŸ’»app/imports/startup/client/index.js","meteor://ðŸ’»app/imports/startup/client/routes.js","meteor://ðŸ’»app/client/main.js"],"names":["module","export","naturalSort","a","b","re","sre","snre","dre","hre","ore","i","s","insensitive","toLowerCase","replace","x","y","xN","split","yN","xD","parseInt","match","length","Date","parse","yD","normChunk","l","parseFloat","oFxNcL","oFyNcL","cLoc","xNl","yNl","numS","Math","max","isNaN","test","localeCompare","comp","abs","watch","require","csv","default","v","allF","name","feature","nameObject","sentences","words","characters","p1","p2","p3","p4","p5","n1","n2","n3","s6","s5","s4","s7","s3","m4","s1","m7","c1","c2","s2","s8","s9","m1","m2","m3","m5","m6","type","renameObject","o","Object","assign","keys","map","k","hexToRGB","hex","alpha","r","slice","g","htmlLabels","dy","featureLength","featureArray","Session","get","fl","col","farray","includes","header","description","push","scatterColors","generateCompareData","data","results","feature1","feature2","sData","label","backgroundColor","hoverBackgroundColor","generateScatterChart","element","mychart","document","getElementById","getContext","bbdata","datasets","then","Chart","options","maintainAspectRatio","scales","xAxes","display","scaleLabel","labelString","ticks","beginAtZero","yAxes","steps","stepValue","Template","sresults","events","event","preventDefault","controller","Iron","render","to","$","hide","show","modal","reset","template","target","fileName","val","analysisResults","csvString","window","navigator","msSaveOrOpenBlob","blob","Blob","createElement","href","encodeURIComponent","download","body","appendChild","click","set","empty","Router","go","compareFeatures","selectedFeatures","frequencyLength","value","compareNames","compareData","onRendered","select2","minimumResultsForSearch","width","placeholder","matcher","term","text","toUpperCase","indexOf","on","e","thisVal","each","attr","removeAttr","stylometrygraph","fadeIn","cdata","f1label","generateData","dydata","bdata","fill","borderWidth","borderColor","dynamicCharts","ch","title","forEach","generateBarChart","labels","responsive","barPercentage","categoryPercentage","legend","tooltips","callbacks","stylometrytable","dynamicColumns","container","Handsontable","hot_init","columns","rowHeaders","fixedColumnsLeft","columnSorting","column","sortOrder","stretchH","helpers","nocharts","comparefeatures","carray","select","addclass","count","aarray","tarray","barray","selectAll","tempArray","stylometry","id","currentTarget","toggleClass","disabled","prop","removeClass","addClass","ul","candidate","candidate2","candidate3","append","author","book","farrays","concat","apply","features","Meteor","call","error","result","Bert","alert","console","log","rname","sname","narray","t","closest","remove","splice","sort","authors","texts","books","removepart","a1","sigfig","toFixed","startup","jQuery","Error","version","fn","jquery","transitionEnd","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","transition","style","undefined","end","emulateTransitionEnd","duration","called","$el","one","callback","trigger","support","setTimeout","special","bsTransitionEnd","bindType","delegateType","handle","is","handleObj","handler","arguments","dismiss","Alert","close","VERSION","TRANSITION_DURATION","prototype","$this","selector","$parent","Event","isDefaultPrevented","removeElement","detach","hasClass","Plugin","option","old","Constructor","noConflict","Button","$element","extend","DEFAULTS","isLoading","loadingText","setState","state","d","resetText","proxy","toggle","changed","$input","find","button","$btn","first","Carousel","$indicators","paused","sliding","interval","$active","$items","keyboard","keydown","pause","documentElement","cycle","wrap","tagName","which","prev","next","clearInterval","setInterval","getItemIndex","item","parent","children","index","getItemForDirection","direction","active","activeIndex","willWrap","delta","itemIndex","eq","pos","that","slide","$next","isCycling","relatedTarget","slideEvent","$nextIndicator","slidEvent","offsetWidth","join","action","carousel","clickHandler","$target","slideIndex","$carousel","Collapse","$trigger","transitioning","getParent","addAriaAndCollapsedClass","dimension","hasWidth","activesData","actives","startEvent","complete","scrollSize","camelCase","offsetHeight","getTargetFromTrigger","isOpen","collapse","backdrop","Dropdown","clearMenus","contains","isActive","insertAfter","stopPropagation","desc","dropdown","Modal","$body","$dialog","$backdrop","isShown","originalBodyPad","scrollbarWidth","ignoreBackdropClick","remote","load","BACKDROP_TRANSITION_DURATION","_relatedTarget","checkScrollbar","setScrollbar","escape","resize","appendTo","scrollTop","adjustDialog","enforceFocus","off","hideModal","has","handleUpdate","resetAdjustments","resetScrollbar","removeBackdrop","animate","doAnimate","focus","callbackRemove","modalIsOverflowing","scrollHeight","clientHeight","css","paddingLeft","bodyIsOverflowing","paddingRight","fullWindowWidth","innerWidth","documentElementRect","getBoundingClientRect","right","left","clientWidth","measureScrollbar","bodyPad","scrollDiv","className","removeChild","showEvent","Tooltip","enabled","timeout","hoverState","inState","init","animation","placement","delay","html","viewport","padding","getOptions","$viewport","isFunction","hover","constructor","triggers","eventIn","eventOut","enter","leave","_options","fixTitle","getDefaults","getDelegateOptions","defaults","key","obj","self","tip","clearTimeout","isInStateTrue","hasContent","inDom","ownerDocument","$tip","tipId","getUID","setContent","autoToken","autoPlace","top","getPosition","actualWidth","actualHeight","orgPlacement","viewportDim","bottom","calculatedOffset","getCalculatedOffset","applyPlacement","prevHoverState","offset","height","marginTop","marginLeft","setOffset","using","props","round","getViewportAdjustedDelta","isVertical","arrowDelta","arrowOffsetPosition","replaceArrow","arrow","getTitle","$e","isBody","elRect","isSvg","SVGElement","elOffset","scroll","outerDims","viewportPadding","viewportDimensions","topEdgeOffset","bottomEdgeOffset","leftEdgeOffset","rightEdgeOffset","prefix","random","$arrow","enable","disable","toggleEnabled","destroy","removeData","tooltip","Popover","content","getContent","popover","ScrollSpy","$scrollElement","offsets","targets","activeTarget","process","refresh","getScrollHeight","offsetMethod","offsetBase","isWindow","$href","maxScroll","activate","clear","parents","parentsUntil","scrollspy","$spy","Tab","$ul","$previous","hideEvent","tab","Affix","checkPosition","checkPositionWithEventLoop","affixed","unpin","pinnedOffset","RESET","getState","offsetTop","offsetBottom","position","targetHeight","initializing","colliderTop","colliderHeight","getPinnedOffset","affix","affixType","bootstrap","route","onBeforeAction","configure","layoutTemplate"],"mappings":"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","file":"/app.js","sourcesContent":["\n\nexport const naturalSort = function(a, b) {\n    var re = /(^([+\\-]?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?(?=\\D|\\s|$))|^0x[\\da-fA-F]+$|\\d+)/g,\n        sre = /^\\s+|\\s+$/g,   // trim pre-post whitespace\n        snre = /\\s+/g,        // normalize all whitespace to single ' ' character\n        dre = /(^([\\w ]+,?[\\w ]+)?[\\w ]+,?[\\w ]+\\d+:\\d+(:\\d+)?[\\w ]?|^\\d{1,4}[\\/\\-]\\d{1,4}[\\/\\-]\\d{1,4}|^\\w+, \\w+ \\d+, \\d{4})/,\n        hre = /^0x[0-9a-f]+$/i,\n        ore = /^0/,\n        i = function(s) {\n            return (naturalSort.insensitive && ('' + s).toLowerCase() || '' + s).replace(sre, '');\n        },\n        // convert all to strings strip whitespace\n        x = i(a),\n        y = i(b),\n        // chunk/tokenize\n        xN = x.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n        yN = y.replace(re, '\\0$1\\0').replace(/\\0$/,'').replace(/^\\0/,'').split('\\0'),\n        // numeric, hex or date detection\n        xD = parseInt(x.match(hre), 16) || (xN.length !== 1 && Date.parse(x)),\n        yD = parseInt(y.match(hre), 16) || xD && y.match(dre) && Date.parse(y) || null,\n        normChunk = function(s, l) {\n            // normalize spaces; find floats not starting with '0', string or 0 if not defined (Clint Priest)\n            return (!s.match(ore) || l == 1) && parseFloat(s) || s.replace(snre, ' ').replace(sre, '') || 0;\n        },\n        oFxNcL, oFyNcL;\n    // first try and sort Hex codes or Dates\n    if (yD) {\n        if (xD < yD) { return -1; }\n        else if (xD > yD) { return 1; }\n    }\n    // natural sorting through split numeric strings and default strings\n    for(var cLoc = 0, xNl = xN.length, yNl = yN.length, numS = Math.max(xNl, yNl); cLoc < numS; cLoc++) {\n        oFxNcL = normChunk(xN[cLoc] || '', xNl);\n        oFyNcL = normChunk(yN[cLoc] || '', yNl);\n        // handle numeric vs string comparison - number < string - (Kyle Adams)\n        if (isNaN(oFxNcL) !== isNaN(oFyNcL)) {\n            return isNaN(oFxNcL) ? 1 : -1;\n        }\n        // if unicode use locale comparison\n        if (/[^\\x00-\\x80]/.test(oFxNcL + oFyNcL) && oFxNcL.localeCompare) {\n            var comp = oFxNcL.localeCompare(oFyNcL);\n            return comp / Math.abs(comp);\n        }\n        if (oFxNcL < oFyNcL) { return -1; }\n        else if (oFxNcL > oFyNcL) { return 1; }\n    }\n}\n","import \"./sresults.html\";\nimport csv from \"to-csv\";\n\nconst allF = [\n  {name: \"Personal Pronouns\", feature: \"p1\"},\n  {name: \"Demonstrative Pronouns\", feature: \"p2\"},\n  {name: \"Quidam\", feature: \"p3\"},\n  {name: \"Reflexive Pronouns\", feature: \"p4\"},\n  {name: \"Iste\", feature: \"p5\"},\n  {name: \"Alius\", feature: \"n1\"},\n  {name: \"Ipse\", feature: \"n2\"},\n  {name: \"Idem\", feature: \"n3\"},\n  {name: \"Priusquam\", feature: \"s6\"},\n  {name: \"Antequam\", feature: \"s5\"},\n  {name: \"Quominus\", feature: \"s4\"},\n  {name: \"Dum\", feature: \"s7\"},\n  {name: \"Quin\", feature: \"s3\"},\n  {name: \"Ut\", feature: \"m4\"},\n  {name: \"Conditionals\", feature: \"s1\"},\n  {name: \"Prepositions\", feature: \"m7\"},\n  {name: \"Conjunctions\", feature: \"c1\"},\n  {name: \"Atque + consonant\", feature: \"c2\"},\n  {name: \"Cum\", feature: \"s2\"},\n  {name: \"Relative Clauses\", feature: \"s8\"},\n  {name: \"Mean Length Relative Clauses\", feature: \"s9\"},\n  {name: \"Interrogative Sentences\", feature: \"m1\"},\n  {name: \"Vocatives\", feature: \"m2\"},\n  {name: \"Superlatives\", feature: \"m3\"},\n  {name: \"Gerunds and Gerundives\", feature: \"m5\"},\n  {name: \"Mean Sentence Length\", feature: \"m6\"}\n];\n\nconst nameObject = {\n  name: \"Corpus Name\",\n  sentences: \"Sentences\",\n  words: \"Words\",\n  characters: \"Characters\",\n  p1: \"Personal Pronouns\",\n  p2: \"Demonstrative Pronouns\",\n  p3: \"Quidam\",\n  p4: \"Reflexive Pronouns\",\n  p5: \"Iste\",\n  n1: \"Alius\",\n  n2: \"Ipse\",\n  n3: \"Idem\",\n  s6: \"Priusquam\",\n  s5: \"Antequam\",\n  s4: \"Quominus\",\n  s7: \"Dum\",\n  s3: \"Quin\",\n  m4: \"Ut\",\n  s1: \"Conditionals\",\n  m7: \"Prepositions\",\n  c1: \"Conjunctions\",\n  c2: \"Atque + consonant\",\n  s2: \"Cum\",\n  s8: \"Relative Clauses\",\n  s9: \"Mean Length Relative Clauses\",\n  m1: \"Interrogative Sentences\",\n  m2: \"Vocatives\",\n  m3: \"Superlatives\",\n  m5: \"Gerunds and Gerundives\",\n  m6: \"Mean Sentence Length\",\n  type: \"Type\"\n};\n\nconst renameObject = (o) => Object.assign(...Object.keys(o).map((k) => ({[nameObject[k] || k]: o[k]})));\n\nconst hexToRGB = (hex, alpha) => {\n  const r = parseInt(hex.slice(1, 3), 16),\n    g = parseInt(hex.slice(3, 5), 16),\n    b = parseInt(hex.slice(5, 7), 16);\n\n  if (alpha) {\n    return \"rgba(\" + r + \", \" + g + \", \" + b + \", \" + alpha + \")\";\n  } else {\n    return \"rgb(\" + r + \", \" + g + \", \" + b + \")\";\n  }\n};\n\nconst htmlLabels = () => {\n  let dy = [];\n  const featureLength = allF.length;\n  const featureArray = Session.get(\"features\");\n  for (let i = 0; i < fl; i++) {\n    let col = {};\n    if (farray.includes(allF[i].feature)) {\n      col.header = allF[i].name;\n      col.description = allF[i].name;\n      col.feature = allF[i].feature;\n      dy.push(col);\n    }\n  }\n  return dy;\n};\n\nconst scatterColors = [\"#702c39\", \"#b7c1c3\", \"#702c39\", \"#868e96\", \"#6610f2\"];\n\nconst generateCompareData = (data) => {\n  const results = Session.get(\"styloresult\");\n  const feature1 = data[0];\n  const feature2 = data[1];\n  let sData = [];\n  for (let i = 0; i < results.length; i++) {\n    let col = {};\n    col.label = results[i].name;\n    col.backgroundColor = hexToRGB(scatterColors[i], 0.85);\n    col.data = [\n      {\n        x: results[i][feature1],\n        y: results[i][feature2],\n        r: 10\n      }\n    ];\n    col.hoverBackgroundColor = \"#007bff\";\n    sData.push(col);\n  }\n  return sData;\n};\n\nconst generateScatterChart = (element, data) => {\n  let mychart = document.getElementById(\"scatterChart\").getContext(\"2d\");\n\n  const bbdata = {\n    datasets: data\n  };\n  import(\"chart.js\").then(({default: Chart}) => {\n    new Chart(mychart, {\n      type: \"bubble\",\n      data: bbdata,\n      options: {\n        maintainAspectRatio: false,\n        scales: {\n          xAxes: [\n            {\n              display: true,\n              scaleLabel: {\n                labelString: Session.get(\"compareLabels\")[1],\n                display: true\n              },\n\n              ticks: {\n                beginAtZero: true\n              }\n            }\n          ],\n          yAxes: [\n            {\n              display: true,\n              scaleLabel: {\n                labelString: Session.get(\"compareLabels\")[0],\n                display: true\n              },\n              ticks: {\n                beginAtZero: true,\n                steps: 0.1,\n                stepValue: 0.05\n              }\n            }\n          ]\n        }\n      }\n    });\n  });\n};\n\nTemplate.sresults.events({\n  \"click #graphs\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {to: \"stylooption\"});\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click .saveResult\"(event) {\n    $(\"#exportModal\").modal(\"show\");\n  },\n  \"click #closeExportModal\"(event) {\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #exportResult\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const fileName = $(\"#fileName\").val();\n    const analysisResults = Session.get(\"styloresult\");\n    const data = analysisResults.map(renameObject);\n    const csvString = csv(data);\n    if (window.navigator.msSaveOrOpenBlob) {\n      const blob = new Blob([csvString]);\n      window.navigator.msSaveOrOpenBlob(blob, fileName + \".csv\");\n    } else {\n      let a = document.createElement(\"a\");\n      a.href = \"data:attachment/csv,\" + encodeURIComponent(csvString);\n      a.target = \"_blank\";\n      a.download = fileName + \".csv\";\n      document.body.appendChild(a);\n      a.click();\n    }\n    document.getElementById(\"saveResultForm\").reset();\n    $(\"#exportModal\").modal(\"hide\");\n  },\n  \"click #table\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrytable\", {to: \"stylooption\"});\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click #compare\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"compareFeatures\", {to: \"stylooption\"});\n    $(\"#table\").show();\n  },\n  \"click .newsearch\"(event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    Router.go(\"/stylometry\");\n  }\n});\n\nTemplate.compareFeatures.events({\n  \"submit #compareFeaturesForm\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    let selectedFeatures = [];\n    let frequencyLength = allF.length;\n    selectedFeatures.push(target.feature1.value);\n    selectedFeatures.push(target.feature2.value);\n    $(\"#compareSelect\").hide();\n    $(\"#compareView\").show();\n    let compareNames = [];\n    for (let b = 0; b < frequencyLength; b++) {\n      if (selectedFeatures.includes(allF[b].feature)) {\n        compareNames.push(allF[b].name);\n      }\n    }\n    Session.set(\"compareLabels\", compareNames);\n    let compareData = generateCompareData(selectedFeatures);\n    generateScatterChart(\"#scatterChart\", compareData);\n  }\n});\n\nTemplate.compareFeatures.onRendered(function() {\n  $(\".select2\").select2({\n    minimumResultsForSearch: 2,\n    width: \"100%\",\n    placeholder: \"Select Feature\",\n    matcher: function(term, text) {\n      return text.toUpperCase().indexOf(term.toUpperCase()) == 0;\n    }\n  });\n\n  $(\".select2[name=feature1]\").on(\"change\", function(e) {\n    const thisVal = $(this).val();\n    $(\".select2[name=feature2] option\").each(function() {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n\n  $(\".select2[name=feature2]\").on(\"change\", function(e) {\n    const thisVal = $(this).val();\n    $(\".select2[name=feature1] option\").each(function() {\n      if (thisVal == $(this).attr(\"value\")) {\n        $(this).attr(\"disabled\", \"disabled\");\n      } else {\n        $(this).removeAttr(\"disabled\");\n      }\n    });\n  });\n});\n\nTemplate.stylometrygraph.onRendered(function() {\n  $(\".toplevel\").fadeIn(\"slow\");\n  const featureArray = Session.get(\"features\");\n  const data = Session.get(\"styloresult\");\n  const cdata = data;\n  const f1label = cdata.map(function(x) {\n    return x.name;\n  });\n  const fl = allF.length;\n\n  const generateData = (feature) => {\n    const dydata = cdata.map(function(x) {\n      return x[feature];\n    });\n    let bdata = [];\n    for (let i = 0; i < cdata.length; i++) {\n      let col = {};\n      col.label = cdata[i].name;\n      col.data = [dydata[i]];\n      col.fill = true;\n      col.borderWidth = 2;\n      col.backgroundColor = \"rgba(112,44,57,0.4)\";\n      col.borderColor = \"#702c39\";\n      bdata.push(col);\n    }\n    return bdata;\n  };\n\n  let dynamicCharts = [];\n  for (let b = 0; b < fl; b++) {\n    let ch = {};\n    if (farray.includes(allF[b].feature)) {\n      ch.data = allF[b].feature;\n      ch.title = allF[b].name;\n      dynamicCharts.push(ch);\n    }\n  }\n\n  farray.forEach(function(x) {\n    generateBarChart(\"#\" + x, f1label, generateData(x));\n  });\n\n  function generateBarChart(element, labels, data) {\n    const mychart = $(element);\n\n    const bbdata = {\n      labels: labels,\n      datasets: data\n    };\n    import(\"chart.js\").then(({default: Chart}) => {\n      new Chart(mychart, {\n        type: \"bar\",\n        data: bbdata,\n        options: {\n          responsive: true,\n          maintainAspectRatio: false,\n          scales: {\n            xAxes: [\n              {\n                barPercentage: 0.4,\n                categoryPercentage: 1\n              }\n            ],\n            yAxes: [\n              {\n                ticks: {\n                  beginAtZero: true\n                }\n              }\n            ]\n          },\n          legend: {\n            display: false\n          },\n          tooltips: {\n            callbacks: {\n              title: function() {}\n            }\n          }\n        }\n      });\n    });\n  }\n});\n\nTemplate.stylometrytable.onRendered(function() {\n  $(\".toplevel\").fadeIn(\"slow\");\n  const farray = Session.get(\"features\");\n  let dynamicColumns = [\n    {\n      data: \"name\",\n      title: \"Corpus\"\n    },\n    {data: \"words\", title: \"Words\"},\n    {data: \"characters\", title: \"Characters\"},\n    {data: \"type\", title: \"Type\"}\n  ];\n  const fl = allF.length;\n  for (let i = 0; i < fl; i++) {\n    let col = {};\n    if (farray.includes(allF[i].feature)) {\n      col.data = allF[i].feature;\n      col.title = allF[i].name;\n      dynamicColumns.push(col);\n    }\n  }\n  const data = Session.get(\"styloresult\");\n  const cdata = data;\n  let container = document.getElementById(\"stable\");\n  import(\"../hands.js\").then(({default: Handsontable}) => {\n    let hot_init = new Handsontable(container, {\n      data: data,\n      columns: dynamicColumns,\n      rowHeaders: true,\n      fixedColumnsLeft: 2,\n      columnSorting: {\n        column: 0,\n        sortOrder: \"desc\"\n      },\n      stretchH: \"all\"\n    });\n  });\n});\n\nTemplate.stylometrygraph.helpers({\n  nocharts() {\n    return htmlLabels();\n  }\n});\n\nTemplate.compareFeatures.helpers({\n  comparefeatures() {\n    let col = [];\n    let frequencyLength = allF.length;\n    let carray = Session.get(\"features\");\n    for (let i = 0; i < frequencyLength; i++) {\n      let select = {};\n      if (carray.includes(allF[i].feature)) {\n        select.value = allF[i].feature;\n        select.name = allF[i].name;\n        col.push(select);\n      }\n    }\n    return col;\n  }\n});\n","import \"./stylometry.html\";\nimport {naturalSort} from \"./helpers.js\";\nimport \"../select2.min.js\";\n\nconst addclass = \"stylo_sel\";\n\nlet count = 0;\nlet aarray = [];\nlet tarray = [];\nlet barray = [];\nlet featureArray = [];\nlet selectAll = false;\n\nconst tempArray = [\n  \"p1\",\n  \"p2\",\n  \"p3\",\n  \"p4\",\n  \"p5\",\n  \"n1\",\n  \"n2\",\n  \"n3\",\n  \"s1\",\n  \"s2\",\n  \"s3\",\n  \"s4\",\n  \"s5\",\n  \"s6\",\n  \"s7\",\n  \"s8\",\n  \"s9\",\n  \"m1\",\n  \"m2\",\n  \"m3\",\n  \"m4\",\n  \"m5\",\n  \"m6\",\n  \"m7\",\n  \"c1\",\n  \"c2\"\n];\n\nTemplate.stylometry.events({\n  \"click .stylo_sec\"(e) {\n    const id = e.currentTarget.id;\n    $(\"#\" + id).toggleClass(\"stylo_sel\");\n  },\n  \"change #selectAll\"(event) {\n    event.preventDefault();\n    if (document.getElementById(\"fauthor\").disabled) {\n      $(\"#fauthor\").prop(\"disabled\", false);\n      $(\".fauthor\").removeClass(\"disabled\");\n      $(\".addmore\").show();\n      selectAll = false;\n    } else {\n      $(\"#fauthor\").prop(\"disabled\", true);\n      $(\".fauthor\").addClass(\"disabled\");\n      $(\".addmore\").hide();\n      selectAll = true;\n      tarray.push(\"All\");\n      aarray.push(\"All\");\n      barray.push(\"All\");\n    }\n  },\n  \"click #graphs\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrygraph\", {to: \"stylooption\"});\n    $(\"#graphs\").hide();\n    $(\"#table\").show();\n  },\n  \"click #table\"(event) {\n    event.preventDefault();\n    const controller = Iron.controller();\n    controller.render(\"stylometrytable\", {to: \"stylooption\"});\n    $(\"#table\").hide();\n    $(\"#graphs\").show();\n  },\n  \"click .newsearch\"(event, template) {\n    Session.set(\"styloresult\", null);\n    $(\"#stable\").empty();\n    $(\".sresult\").hide();\n    $(\".ssearch\").show();\n  },\n  \"click .addmore\"(event, template) {\n    var ul = document.getElementById(\"dynamic-list\");\n    const candidate = document.getElementById(\"fauthor\");\n    const candidate2 = document.getElementById(\"ftext\");\n    const candidate3 = document.getElementById(\"fbook\");\n    count += 1;\n    tarray.push(candidate2.value);\n    aarray.push(candidate.value);\n    barray.push(candidate3.value);\n    $(\"#stylocorpus\").append(\n      '<tr class=\"list\"><td data-name=' +\n        candidate.value +\n        \">\" +\n        candidate.value +\n        \"</td><td data-name=\" +\n        candidate2.value +\n        \">\" +\n        candidate2.value +\n        \"</td><td data-name=\" +\n        candidate3.value +\n        \">\" +\n        candidate3.value +\n        '</td><td class=\"text-center\"><button type=\"button\" class=\"btn btn-info remove\" id=\"delete\"><i class=\"fa fa-trash\"></i> Remove</button></td></tr>'\n    );\n    $(\"#fauthor\").select2(\"data\", null);\n    $(\"#fbook\").select2(\"data\", null);\n    $(\"#ftext\").select2(\"data\", null);\n    $(\".ftext\").addClass(\"disabled\");\n    $(\"#ftext\").prop(\"disabled\", true);\n    $(\".fbook\").addClass(\"disabled\");\n    $(\"#fbook\").prop(\"disabled\", true);\n  },\n  \"submit #fsearch\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const author = $(\"#fauthor :selected\").val();\n    const book = $(\"#fbook :selected\").val();\n    const text = $(\"#ftext :selected\").val();\n    let farrays = tempArray;\n    farrays.push($(\"#pronouns\").val());\n    farrays.push($(\"#adjectives\").val());\n    farrays.push($(\"#conjunctions\").val());\n    farrays.push($(\"#subordinate\").val());\n    farrays.push($(\"#miscellaneous\").val());\n    let farray = [].concat.apply([], farrays);\n    Session.set(\"features\", farray);\n    const data = {\n      author: aarray,\n      text: tarray,\n      book: barray\n    };\n    const features = {\n      feature: farray,\n      selectAll: selectAll\n    };\n    $(\".ssearch\").hide();\n    $(\".sloading\").show();\n    Meteor.call(\"stylometryf\", data, features, function(error, result) {\n      if (error) {\n        Bert.alert(\"Error, please re-try!\", \"danger\", \"growl-top-right\");\n        console.log(error);\n        $(\".sloading\").hide();\n        $(\".ssearch\").show();\n      } else {\n        Session.set(\"styloresult\", result);\n        Router.go(\"/sresults\");\n      }\n    });\n  },\n  \"click .remove\"(event, template) {\n    event.preventDefault();\n    const target = event.target;\n    const rname = $(target).data(\"name\");\n    const sname = $(target).data(\"sub\");\n    const a = narray.indexOf(rname);\n    const t = narray.indexOf(sname);\n    $(target)\n      .closest(\"tr\")\n      .remove(this.id);\n    aarray.splice(a, 1);\n    tarray.splice(t, 1);\n    barray.splice(b, 1);\n    count -= 1;\n  }\n});\n\nTemplate.stylometry.onRendered(function() {\n  $(\".select2\").select2({\n    minimumResultsForSearch: 2,\n    width: \"100%\",\n    matcher: function(term, text) {\n      return text.toUpperCase().indexOf(term.toUpperCase()) == 0;\n    }\n  });\n\n  aarray = [];\n  tarray = [];\n  barray = [];\n  $(\"#arows\").on(\"click\", \".delete\", function() {\n    $(this)\n      .closest(\"tr\")\n      .remove();\n  });\n\n  $(\"#fauthor\").on(\"change\", function(e) {\n    const target = e.target;\n    const author = $(\"#fauthor :selected\").val();\n    Meteor.call(\"texts\", author, function(error, result) {\n      Session.set(\"texts\", result);\n      $(\"#ftext\").prop(\"disabled\", false);\n      $(\".ftext\").removeClass(\"disabled\");\n    });\n  });\n\n  $(\"#ftext\").on(\"change\", function(e) {\n    const target = e.target;\n    const author = $(\"#fauthor :selected\").val();\n    const text = $(\"#ftext :selected\").val();\n    Meteor.call(\"books\", author, text, function(error, result) {\n      sort = result.sort(naturalSort);\n      Session.set(\"books\", sort);\n      $(\"#fbook\").prop(\"disabled\", false);\n      $(\".fbook\").removeClass(\"disabled\");\n    });\n  });\n});\n\nTemplate.stylometry.helpers({\n  authors() {\n    return Session.get(\"authors\");\n  },\n  texts() {\n    return Session.get(\"texts\");\n  },\n  books() {\n    return Session.get(\"books\");\n  },\n  removepart(a1) {\n    if (a1) return a1.replace(\"Part \", \"\");\n  },\n  sigfig(a1) {\n    if (a1) return a1.toFixed(3);\n  }\n});\n","import \"./main.html\";\n\nMeteor.startup(function() {\n  Meteor.call(\"authors\", function(error, result) {\n    Session.set(\"authors\", result);\n  });\n});\n","/*!\n * Bootstrap v3.3.7 (http://getbootstrap.com)\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under the MIT license\n */\n\nif (typeof jQuery === 'undefined') {\n  throw new Error('Bootstrap\\'s JavaScript requires jQuery')\n}\n\n+function ($) {\n  'use strict';\n  var version = $.fn.jquery.split(' ')[0].split('.')\n  if ((version[0] < 2 && version[1] < 9) || (version[0] == 1 && version[1] == 9 && version[2] < 1) || (version[0] > 3)) {\n    throw new Error('Bootstrap\\'s JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4')\n  }\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: transition.js v3.3.7\n * http://getbootstrap.com/javascript/#transitions\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\n  // ============================================================\n\n  function transitionEnd() {\n    var el = document.createElement('bootstrap')\n\n    var transEndEventNames = {\n      WebkitTransition : 'webkitTransitionEnd',\n      MozTransition    : 'transitionend',\n      OTransition      : 'oTransitionEnd otransitionend',\n      transition       : 'transitionend'\n    }\n\n    for (var name in transEndEventNames) {\n      if (el.style[name] !== undefined) {\n        return { end: transEndEventNames[name] }\n      }\n    }\n\n    return false // explicit for ie8 (  ._.)\n  }\n\n  // http://blog.alexmaccaw.com/css-transitions\n  $.fn.emulateTransitionEnd = function (duration) {\n    var called = false\n    var $el = this\n    $(this).one('bsTransitionEnd', function () { called = true })\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\n    setTimeout(callback, duration)\n    return this\n  }\n\n  $(function () {\n    $.support.transition = transitionEnd()\n\n    if (!$.support.transition) return\n\n    $.event.special.bsTransitionEnd = {\n      bindType: $.support.transition.end,\n      delegateType: $.support.transition.end,\n      handle: function (e) {\n        if ($(e.target).is(this)) return e.handleObj.handler.apply(this, arguments)\n      }\n    }\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: alert.js v3.3.7\n * http://getbootstrap.com/javascript/#alerts\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // ALERT CLASS DEFINITION\n  // ======================\n\n  var dismiss = '[data-dismiss=\"alert\"]'\n  var Alert   = function (el) {\n    $(el).on('click', dismiss, this.close)\n  }\n\n  Alert.VERSION = '3.3.7'\n\n  Alert.TRANSITION_DURATION = 150\n\n  Alert.prototype.close = function (e) {\n    var $this    = $(this)\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = $(selector === '#' ? [] : selector)\n\n    if (e) e.preventDefault()\n\n    if (!$parent.length) {\n      $parent = $this.closest('.alert')\n    }\n\n    $parent.trigger(e = $.Event('close.bs.alert'))\n\n    if (e.isDefaultPrevented()) return\n\n    $parent.removeClass('in')\n\n    function removeElement() {\n      // detach from parent, fire event then clean up data\n      $parent.detach().trigger('closed.bs.alert').remove()\n    }\n\n    $.support.transition && $parent.hasClass('fade') ?\n      $parent\n        .one('bsTransitionEnd', removeElement)\n        .emulateTransitionEnd(Alert.TRANSITION_DURATION) :\n      removeElement()\n  }\n\n\n  // ALERT PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.alert')\n\n      if (!data) $this.data('bs.alert', (data = new Alert(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.alert\n\n  $.fn.alert             = Plugin\n  $.fn.alert.Constructor = Alert\n\n\n  // ALERT NO CONFLICT\n  // =================\n\n  $.fn.alert.noConflict = function () {\n    $.fn.alert = old\n    return this\n  }\n\n\n  // ALERT DATA-API\n  // ==============\n\n  $(document).on('click.bs.alert.data-api', dismiss, Alert.prototype.close)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: button.js v3.3.7\n * http://getbootstrap.com/javascript/#buttons\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // BUTTON PUBLIC CLASS DEFINITION\n  // ==============================\n\n  var Button = function (element, options) {\n    this.$element  = $(element)\n    this.options   = $.extend({}, Button.DEFAULTS, options)\n    this.isLoading = false\n  }\n\n  Button.VERSION  = '3.3.7'\n\n  Button.DEFAULTS = {\n    loadingText: 'loading...'\n  }\n\n  Button.prototype.setState = function (state) {\n    var d    = 'disabled'\n    var $el  = this.$element\n    var val  = $el.is('input') ? 'val' : 'html'\n    var data = $el.data()\n\n    state += 'Text'\n\n    if (data.resetText == null) $el.data('resetText', $el[val]())\n\n    // push to event loop to allow forms to submit\n    setTimeout($.proxy(function () {\n      $el[val](data[state] == null ? this.options[state] : data[state])\n\n      if (state == 'loadingText') {\n        this.isLoading = true\n        $el.addClass(d).attr(d, d).prop(d, true)\n      } else if (this.isLoading) {\n        this.isLoading = false\n        $el.removeClass(d).removeAttr(d).prop(d, false)\n      }\n    }, this), 0)\n  }\n\n  Button.prototype.toggle = function () {\n    var changed = true\n    var $parent = this.$element.closest('[data-toggle=\"buttons\"]')\n\n    if ($parent.length) {\n      var $input = this.$element.find('input')\n      if ($input.prop('type') == 'radio') {\n        if ($input.prop('checked')) changed = false\n        $parent.find('.active').removeClass('active')\n        this.$element.addClass('active')\n      } else if ($input.prop('type') == 'checkbox') {\n        if (($input.prop('checked')) !== this.$element.hasClass('active')) changed = false\n        this.$element.toggleClass('active')\n      }\n      $input.prop('checked', this.$element.hasClass('active'))\n      if (changed) $input.trigger('change')\n    } else {\n      this.$element.attr('aria-pressed', !this.$element.hasClass('active'))\n      this.$element.toggleClass('active')\n    }\n  }\n\n\n  // BUTTON PLUGIN DEFINITION\n  // ========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.button')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.button', (data = new Button(this, options)))\n\n      if (option == 'toggle') data.toggle()\n      else if (option) data.setState(option)\n    })\n  }\n\n  var old = $.fn.button\n\n  $.fn.button             = Plugin\n  $.fn.button.Constructor = Button\n\n\n  // BUTTON NO CONFLICT\n  // ==================\n\n  $.fn.button.noConflict = function () {\n    $.fn.button = old\n    return this\n  }\n\n\n  // BUTTON DATA-API\n  // ===============\n\n  $(document)\n    .on('click.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      var $btn = $(e.target).closest('.btn')\n      Plugin.call($btn, 'toggle')\n      if (!($(e.target).is('input[type=\"radio\"], input[type=\"checkbox\"]'))) {\n        // Prevent double click on radios, and the double selections (so cancellation) on checkboxes\n        e.preventDefault()\n        // The target component still receive the focus\n        if ($btn.is('input,button')) $btn.trigger('focus')\n        else $btn.find('input:visible,button:visible').first().trigger('focus')\n      }\n    })\n    .on('focus.bs.button.data-api blur.bs.button.data-api', '[data-toggle^=\"button\"]', function (e) {\n      $(e.target).closest('.btn').toggleClass('focus', /^focus(in)?$/.test(e.type))\n    })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: carousel.js v3.3.7\n * http://getbootstrap.com/javascript/#carousel\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // CAROUSEL CLASS DEFINITION\n  // =========================\n\n  var Carousel = function (element, options) {\n    this.$element    = $(element)\n    this.$indicators = this.$element.find('.carousel-indicators')\n    this.options     = options\n    this.paused      = null\n    this.sliding     = null\n    this.interval    = null\n    this.$active     = null\n    this.$items      = null\n\n    this.options.keyboard && this.$element.on('keydown.bs.carousel', $.proxy(this.keydown, this))\n\n    this.options.pause == 'hover' && !('ontouchstart' in document.documentElement) && this.$element\n      .on('mouseenter.bs.carousel', $.proxy(this.pause, this))\n      .on('mouseleave.bs.carousel', $.proxy(this.cycle, this))\n  }\n\n  Carousel.VERSION  = '3.3.7'\n\n  Carousel.TRANSITION_DURATION = 600\n\n  Carousel.DEFAULTS = {\n    interval: 5000,\n    pause: 'hover',\n    wrap: true,\n    keyboard: true\n  }\n\n  Carousel.prototype.keydown = function (e) {\n    if (/input|textarea/i.test(e.target.tagName)) return\n    switch (e.which) {\n      case 37: this.prev(); break\n      case 39: this.next(); break\n      default: return\n    }\n\n    e.preventDefault()\n  }\n\n  Carousel.prototype.cycle = function (e) {\n    e || (this.paused = false)\n\n    this.interval && clearInterval(this.interval)\n\n    this.options.interval\n      && !this.paused\n      && (this.interval = setInterval($.proxy(this.next, this), this.options.interval))\n\n    return this\n  }\n\n  Carousel.prototype.getItemIndex = function (item) {\n    this.$items = item.parent().children('.item')\n    return this.$items.index(item || this.$active)\n  }\n\n  Carousel.prototype.getItemForDirection = function (direction, active) {\n    var activeIndex = this.getItemIndex(active)\n    var willWrap = (direction == 'prev' && activeIndex === 0)\n                || (direction == 'next' && activeIndex == (this.$items.length - 1))\n    if (willWrap && !this.options.wrap) return active\n    var delta = direction == 'prev' ? -1 : 1\n    var itemIndex = (activeIndex + delta) % this.$items.length\n    return this.$items.eq(itemIndex)\n  }\n\n  Carousel.prototype.to = function (pos) {\n    var that        = this\n    var activeIndex = this.getItemIndex(this.$active = this.$element.find('.item.active'))\n\n    if (pos > (this.$items.length - 1) || pos < 0) return\n\n    if (this.sliding)       return this.$element.one('slid.bs.carousel', function () { that.to(pos) }) // yes, \"slid\"\n    if (activeIndex == pos) return this.pause().cycle()\n\n    return this.slide(pos > activeIndex ? 'next' : 'prev', this.$items.eq(pos))\n  }\n\n  Carousel.prototype.pause = function (e) {\n    e || (this.paused = true)\n\n    if (this.$element.find('.next, .prev').length && $.support.transition) {\n      this.$element.trigger($.support.transition.end)\n      this.cycle(true)\n    }\n\n    this.interval = clearInterval(this.interval)\n\n    return this\n  }\n\n  Carousel.prototype.next = function () {\n    if (this.sliding) return\n    return this.slide('next')\n  }\n\n  Carousel.prototype.prev = function () {\n    if (this.sliding) return\n    return this.slide('prev')\n  }\n\n  Carousel.prototype.slide = function (type, next) {\n    var $active   = this.$element.find('.item.active')\n    var $next     = next || this.getItemForDirection(type, $active)\n    var isCycling = this.interval\n    var direction = type == 'next' ? 'left' : 'right'\n    var that      = this\n\n    if ($next.hasClass('active')) return (this.sliding = false)\n\n    var relatedTarget = $next[0]\n    var slideEvent = $.Event('slide.bs.carousel', {\n      relatedTarget: relatedTarget,\n      direction: direction\n    })\n    this.$element.trigger(slideEvent)\n    if (slideEvent.isDefaultPrevented()) return\n\n    this.sliding = true\n\n    isCycling && this.pause()\n\n    if (this.$indicators.length) {\n      this.$indicators.find('.active').removeClass('active')\n      var $nextIndicator = $(this.$indicators.children()[this.getItemIndex($next)])\n      $nextIndicator && $nextIndicator.addClass('active')\n    }\n\n    var slidEvent = $.Event('slid.bs.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\n    if ($.support.transition && this.$element.hasClass('slide')) {\n      $next.addClass(type)\n      $next[0].offsetWidth // force reflow\n      $active.addClass(direction)\n      $next.addClass(direction)\n      $active\n        .one('bsTransitionEnd', function () {\n          $next.removeClass([type, direction].join(' ')).addClass('active')\n          $active.removeClass(['active', direction].join(' '))\n          that.sliding = false\n          setTimeout(function () {\n            that.$element.trigger(slidEvent)\n          }, 0)\n        })\n        .emulateTransitionEnd(Carousel.TRANSITION_DURATION)\n    } else {\n      $active.removeClass('active')\n      $next.addClass('active')\n      this.sliding = false\n      this.$element.trigger(slidEvent)\n    }\n\n    isCycling && this.cycle()\n\n    return this\n  }\n\n\n  // CAROUSEL PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.carousel')\n      var options = $.extend({}, Carousel.DEFAULTS, $this.data(), typeof option == 'object' && option)\n      var action  = typeof option == 'string' ? option : options.slide\n\n      if (!data) $this.data('bs.carousel', (data = new Carousel(this, options)))\n      if (typeof option == 'number') data.to(option)\n      else if (action) data[action]()\n      else if (options.interval) data.pause().cycle()\n    })\n  }\n\n  var old = $.fn.carousel\n\n  $.fn.carousel             = Plugin\n  $.fn.carousel.Constructor = Carousel\n\n\n  // CAROUSEL NO CONFLICT\n  // ====================\n\n  $.fn.carousel.noConflict = function () {\n    $.fn.carousel = old\n    return this\n  }\n\n\n  // CAROUSEL DATA-API\n  // =================\n\n  var clickHandler = function (e) {\n    var href\n    var $this   = $(this)\n    var $target = $($this.attr('data-target') || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '')) // strip for ie7\n    if (!$target.hasClass('carousel')) return\n    var options = $.extend({}, $target.data(), $this.data())\n    var slideIndex = $this.attr('data-slide-to')\n    if (slideIndex) options.interval = false\n\n    Plugin.call($target, options)\n\n    if (slideIndex) {\n      $target.data('bs.carousel').to(slideIndex)\n    }\n\n    e.preventDefault()\n  }\n\n  $(document)\n    .on('click.bs.carousel.data-api', '[data-slide]', clickHandler)\n    .on('click.bs.carousel.data-api', '[data-slide-to]', clickHandler)\n\n  $(window).on('load', function () {\n    $('[data-ride=\"carousel\"]').each(function () {\n      var $carousel = $(this)\n      Plugin.call($carousel, $carousel.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: collapse.js v3.3.7\n * http://getbootstrap.com/javascript/#collapse\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n/* jshint latedef: false */\n\n+function ($) {\n  'use strict';\n\n  // COLLAPSE PUBLIC CLASS DEFINITION\n  // ================================\n\n  var Collapse = function (element, options) {\n    this.$element      = $(element)\n    this.options       = $.extend({}, Collapse.DEFAULTS, options)\n    this.$trigger      = $('[data-toggle=\"collapse\"][href=\"#' + element.id + '\"],' +\n                           '[data-toggle=\"collapse\"][data-target=\"#' + element.id + '\"]')\n    this.transitioning = null\n\n    if (this.options.parent) {\n      this.$parent = this.getParent()\n    } else {\n      this.addAriaAndCollapsedClass(this.$element, this.$trigger)\n    }\n\n    if (this.options.toggle) this.toggle()\n  }\n\n  Collapse.VERSION  = '3.3.7'\n\n  Collapse.TRANSITION_DURATION = 350\n\n  Collapse.DEFAULTS = {\n    toggle: true\n  }\n\n  Collapse.prototype.dimension = function () {\n    var hasWidth = this.$element.hasClass('width')\n    return hasWidth ? 'width' : 'height'\n  }\n\n  Collapse.prototype.show = function () {\n    if (this.transitioning || this.$element.hasClass('in')) return\n\n    var activesData\n    var actives = this.$parent && this.$parent.children('.panel').children('.in, .collapsing')\n\n    if (actives && actives.length) {\n      activesData = actives.data('bs.collapse')\n      if (activesData && activesData.transitioning) return\n    }\n\n    var startEvent = $.Event('show.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    if (actives && actives.length) {\n      Plugin.call(actives, 'hide')\n      activesData || actives.data('bs.collapse', null)\n    }\n\n    var dimension = this.dimension()\n\n    this.$element\n      .removeClass('collapse')\n      .addClass('collapsing')[dimension](0)\n      .attr('aria-expanded', true)\n\n    this.$trigger\n      .removeClass('collapsed')\n      .attr('aria-expanded', true)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse in')[dimension]('')\n      this.transitioning = 0\n      this.$element\n        .trigger('shown.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    var scrollSize = $.camelCase(['scroll', dimension].join('-'))\n\n    this.$element\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])\n  }\n\n  Collapse.prototype.hide = function () {\n    if (this.transitioning || !this.$element.hasClass('in')) return\n\n    var startEvent = $.Event('hide.bs.collapse')\n    this.$element.trigger(startEvent)\n    if (startEvent.isDefaultPrevented()) return\n\n    var dimension = this.dimension()\n\n    this.$element[dimension](this.$element[dimension]())[0].offsetHeight\n\n    this.$element\n      .addClass('collapsing')\n      .removeClass('collapse in')\n      .attr('aria-expanded', false)\n\n    this.$trigger\n      .addClass('collapsed')\n      .attr('aria-expanded', false)\n\n    this.transitioning = 1\n\n    var complete = function () {\n      this.transitioning = 0\n      this.$element\n        .removeClass('collapsing')\n        .addClass('collapse')\n        .trigger('hidden.bs.collapse')\n    }\n\n    if (!$.support.transition) return complete.call(this)\n\n    this.$element\n      [dimension](0)\n      .one('bsTransitionEnd', $.proxy(complete, this))\n      .emulateTransitionEnd(Collapse.TRANSITION_DURATION)\n  }\n\n  Collapse.prototype.toggle = function () {\n    this[this.$element.hasClass('in') ? 'hide' : 'show']()\n  }\n\n  Collapse.prototype.getParent = function () {\n    return $(this.options.parent)\n      .find('[data-toggle=\"collapse\"][data-parent=\"' + this.options.parent + '\"]')\n      .each($.proxy(function (i, element) {\n        var $element = $(element)\n        this.addAriaAndCollapsedClass(getTargetFromTrigger($element), $element)\n      }, this))\n      .end()\n  }\n\n  Collapse.prototype.addAriaAndCollapsedClass = function ($element, $trigger) {\n    var isOpen = $element.hasClass('in')\n\n    $element.attr('aria-expanded', isOpen)\n    $trigger\n      .toggleClass('collapsed', !isOpen)\n      .attr('aria-expanded', isOpen)\n  }\n\n  function getTargetFromTrigger($trigger) {\n    var href\n    var target = $trigger.attr('data-target')\n      || (href = $trigger.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') // strip for ie7\n\n    return $(target)\n  }\n\n\n  // COLLAPSE PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.collapse')\n      var options = $.extend({}, Collapse.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data && options.toggle && /show|hide/.test(option)) options.toggle = false\n      if (!data) $this.data('bs.collapse', (data = new Collapse(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.collapse\n\n  $.fn.collapse             = Plugin\n  $.fn.collapse.Constructor = Collapse\n\n\n  // COLLAPSE NO CONFLICT\n  // ====================\n\n  $.fn.collapse.noConflict = function () {\n    $.fn.collapse = old\n    return this\n  }\n\n\n  // COLLAPSE DATA-API\n  // =================\n\n  $(document).on('click.bs.collapse.data-api', '[data-toggle=\"collapse\"]', function (e) {\n    var $this   = $(this)\n\n    if (!$this.attr('data-target')) e.preventDefault()\n\n    var $target = getTargetFromTrigger($this)\n    var data    = $target.data('bs.collapse')\n    var option  = data ? 'toggle' : $this.data()\n\n    Plugin.call($target, option)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: dropdown.js v3.3.7\n * http://getbootstrap.com/javascript/#dropdowns\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // DROPDOWN CLASS DEFINITION\n  // =========================\n\n  var backdrop = '.dropdown-backdrop'\n  var toggle   = '[data-toggle=\"dropdown\"]'\n  var Dropdown = function (element) {\n    $(element).on('click.bs.dropdown', this.toggle)\n  }\n\n  Dropdown.VERSION = '3.3.7'\n\n  function getParent($this) {\n    var selector = $this.attr('data-target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    var $parent = selector && $(selector)\n\n    return $parent && $parent.length ? $parent : $this.parent()\n  }\n\n  function clearMenus(e) {\n    if (e && e.which === 3) return\n    $(backdrop).remove()\n    $(toggle).each(function () {\n      var $this         = $(this)\n      var $parent       = getParent($this)\n      var relatedTarget = { relatedTarget: this }\n\n      if (!$parent.hasClass('open')) return\n\n      if (e && e.type == 'click' && /input|textarea/i.test(e.target.tagName) && $.contains($parent[0], e.target)) return\n\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this.attr('aria-expanded', 'false')\n      $parent.removeClass('open').trigger($.Event('hidden.bs.dropdown', relatedTarget))\n    })\n  }\n\n  Dropdown.prototype.toggle = function (e) {\n    var $this = $(this)\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    clearMenus()\n\n    if (!isActive) {\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\n        // if mobile we use a backdrop because click events don't delegate\n        $(document.createElement('div'))\n          .addClass('dropdown-backdrop')\n          .insertAfter($(this))\n          .on('click', clearMenus)\n      }\n\n      var relatedTarget = { relatedTarget: this }\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\n\n      if (e.isDefaultPrevented()) return\n\n      $this\n        .trigger('focus')\n        .attr('aria-expanded', 'true')\n\n      $parent\n        .toggleClass('open')\n        .trigger($.Event('shown.bs.dropdown', relatedTarget))\n    }\n\n    return false\n  }\n\n  Dropdown.prototype.keydown = function (e) {\n    if (!/(38|40|27|32)/.test(e.which) || /input|textarea/i.test(e.target.tagName)) return\n\n    var $this = $(this)\n\n    e.preventDefault()\n    e.stopPropagation()\n\n    if ($this.is('.disabled, :disabled')) return\n\n    var $parent  = getParent($this)\n    var isActive = $parent.hasClass('open')\n\n    if (!isActive && e.which != 27 || isActive && e.which == 27) {\n      if (e.which == 27) $parent.find(toggle).trigger('focus')\n      return $this.trigger('click')\n    }\n\n    var desc = ' li:not(.disabled):visible a'\n    var $items = $parent.find('.dropdown-menu' + desc)\n\n    if (!$items.length) return\n\n    var index = $items.index(e.target)\n\n    if (e.which == 38 && index > 0)                 index--         // up\n    if (e.which == 40 && index < $items.length - 1) index++         // down\n    if (!~index)                                    index = 0\n\n    $items.eq(index).trigger('focus')\n  }\n\n\n  // DROPDOWN PLUGIN DEFINITION\n  // ==========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.dropdown')\n\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\n      if (typeof option == 'string') data[option].call($this)\n    })\n  }\n\n  var old = $.fn.dropdown\n\n  $.fn.dropdown             = Plugin\n  $.fn.dropdown.Constructor = Dropdown\n\n\n  // DROPDOWN NO CONFLICT\n  // ====================\n\n  $.fn.dropdown.noConflict = function () {\n    $.fn.dropdown = old\n    return this\n  }\n\n\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\n  // ===================================\n\n  $(document)\n    .on('click.bs.dropdown.data-api', clearMenus)\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\n    .on('keydown.bs.dropdown.data-api', toggle, Dropdown.prototype.keydown)\n    .on('keydown.bs.dropdown.data-api', '.dropdown-menu', Dropdown.prototype.keydown)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: modal.js v3.3.7\n * http://getbootstrap.com/javascript/#modals\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // MODAL CLASS DEFINITION\n  // ======================\n\n  var Modal = function (element, options) {\n    this.options             = options\n    this.$body               = $(document.body)\n    this.$element            = $(element)\n    this.$dialog             = this.$element.find('.modal-dialog')\n    this.$backdrop           = null\n    this.isShown             = null\n    this.originalBodyPad     = null\n    this.scrollbarWidth      = 0\n    this.ignoreBackdropClick = false\n\n    if (this.options.remote) {\n      this.$element\n        .find('.modal-content')\n        .load(this.options.remote, $.proxy(function () {\n          this.$element.trigger('loaded.bs.modal')\n        }, this))\n    }\n  }\n\n  Modal.VERSION  = '3.3.7'\n\n  Modal.TRANSITION_DURATION = 300\n  Modal.BACKDROP_TRANSITION_DURATION = 150\n\n  Modal.DEFAULTS = {\n    backdrop: true,\n    keyboard: true,\n    show: true\n  }\n\n  Modal.prototype.toggle = function (_relatedTarget) {\n    return this.isShown ? this.hide() : this.show(_relatedTarget)\n  }\n\n  Modal.prototype.show = function (_relatedTarget) {\n    var that = this\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\n\n    this.$element.trigger(e)\n\n    if (this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = true\n\n    this.checkScrollbar()\n    this.setScrollbar()\n    this.$body.addClass('modal-open')\n\n    this.escape()\n    this.resize()\n\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\n\n    this.$dialog.on('mousedown.dismiss.bs.modal', function () {\n      that.$element.one('mouseup.dismiss.bs.modal', function (e) {\n        if ($(e.target).is(that.$element)) that.ignoreBackdropClick = true\n      })\n    })\n\n    this.backdrop(function () {\n      var transition = $.support.transition && that.$element.hasClass('fade')\n\n      if (!that.$element.parent().length) {\n        that.$element.appendTo(that.$body) // don't move modals dom position\n      }\n\n      that.$element\n        .show()\n        .scrollTop(0)\n\n      that.adjustDialog()\n\n      if (transition) {\n        that.$element[0].offsetWidth // force reflow\n      }\n\n      that.$element.addClass('in')\n\n      that.enforceFocus()\n\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\n\n      transition ?\n        that.$dialog // wait for modal to slide in\n          .one('bsTransitionEnd', function () {\n            that.$element.trigger('focus').trigger(e)\n          })\n          .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n        that.$element.trigger('focus').trigger(e)\n    })\n  }\n\n  Modal.prototype.hide = function (e) {\n    if (e) e.preventDefault()\n\n    e = $.Event('hide.bs.modal')\n\n    this.$element.trigger(e)\n\n    if (!this.isShown || e.isDefaultPrevented()) return\n\n    this.isShown = false\n\n    this.escape()\n    this.resize()\n\n    $(document).off('focusin.bs.modal')\n\n    this.$element\n      .removeClass('in')\n      .off('click.dismiss.bs.modal')\n      .off('mouseup.dismiss.bs.modal')\n\n    this.$dialog.off('mousedown.dismiss.bs.modal')\n\n    $.support.transition && this.$element.hasClass('fade') ?\n      this.$element\n        .one('bsTransitionEnd', $.proxy(this.hideModal, this))\n        .emulateTransitionEnd(Modal.TRANSITION_DURATION) :\n      this.hideModal()\n  }\n\n  Modal.prototype.enforceFocus = function () {\n    $(document)\n      .off('focusin.bs.modal') // guard against infinite focus loop\n      .on('focusin.bs.modal', $.proxy(function (e) {\n        if (document !== e.target &&\n            this.$element[0] !== e.target &&\n            !this.$element.has(e.target).length) {\n          this.$element.trigger('focus')\n        }\n      }, this))\n  }\n\n  Modal.prototype.escape = function () {\n    if (this.isShown && this.options.keyboard) {\n      this.$element.on('keydown.dismiss.bs.modal', $.proxy(function (e) {\n        e.which == 27 && this.hide()\n      }, this))\n    } else if (!this.isShown) {\n      this.$element.off('keydown.dismiss.bs.modal')\n    }\n  }\n\n  Modal.prototype.resize = function () {\n    if (this.isShown) {\n      $(window).on('resize.bs.modal', $.proxy(this.handleUpdate, this))\n    } else {\n      $(window).off('resize.bs.modal')\n    }\n  }\n\n  Modal.prototype.hideModal = function () {\n    var that = this\n    this.$element.hide()\n    this.backdrop(function () {\n      that.$body.removeClass('modal-open')\n      that.resetAdjustments()\n      that.resetScrollbar()\n      that.$element.trigger('hidden.bs.modal')\n    })\n  }\n\n  Modal.prototype.removeBackdrop = function () {\n    this.$backdrop && this.$backdrop.remove()\n    this.$backdrop = null\n  }\n\n  Modal.prototype.backdrop = function (callback) {\n    var that = this\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\n\n    if (this.isShown && this.options.backdrop) {\n      var doAnimate = $.support.transition && animate\n\n      this.$backdrop = $(document.createElement('div'))\n        .addClass('modal-backdrop ' + animate)\n        .appendTo(this.$body)\n\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\n        if (this.ignoreBackdropClick) {\n          this.ignoreBackdropClick = false\n          return\n        }\n        if (e.target !== e.currentTarget) return\n        this.options.backdrop == 'static'\n          ? this.$element[0].focus()\n          : this.hide()\n      }, this))\n\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\n\n      this.$backdrop.addClass('in')\n\n      if (!callback) return\n\n      doAnimate ?\n        this.$backdrop\n          .one('bsTransitionEnd', callback)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callback()\n\n    } else if (!this.isShown && this.$backdrop) {\n      this.$backdrop.removeClass('in')\n\n      var callbackRemove = function () {\n        that.removeBackdrop()\n        callback && callback()\n      }\n      $.support.transition && this.$element.hasClass('fade') ?\n        this.$backdrop\n          .one('bsTransitionEnd', callbackRemove)\n          .emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION) :\n        callbackRemove()\n\n    } else if (callback) {\n      callback()\n    }\n  }\n\n  // these following methods are used to handle overflowing modals\n\n  Modal.prototype.handleUpdate = function () {\n    this.adjustDialog()\n  }\n\n  Modal.prototype.adjustDialog = function () {\n    var modalIsOverflowing = this.$element[0].scrollHeight > document.documentElement.clientHeight\n\n    this.$element.css({\n      paddingLeft:  !this.bodyIsOverflowing && modalIsOverflowing ? this.scrollbarWidth : '',\n      paddingRight: this.bodyIsOverflowing && !modalIsOverflowing ? this.scrollbarWidth : ''\n    })\n  }\n\n  Modal.prototype.resetAdjustments = function () {\n    this.$element.css({\n      paddingLeft: '',\n      paddingRight: ''\n    })\n  }\n\n  Modal.prototype.checkScrollbar = function () {\n    var fullWindowWidth = window.innerWidth\n    if (!fullWindowWidth) { // workaround for missing window.innerWidth in IE8\n      var documentElementRect = document.documentElement.getBoundingClientRect()\n      fullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left)\n    }\n    this.bodyIsOverflowing = document.body.clientWidth < fullWindowWidth\n    this.scrollbarWidth = this.measureScrollbar()\n  }\n\n  Modal.prototype.setScrollbar = function () {\n    var bodyPad = parseInt((this.$body.css('padding-right') || 0), 10)\n    this.originalBodyPad = document.body.style.paddingRight || ''\n    if (this.bodyIsOverflowing) this.$body.css('padding-right', bodyPad + this.scrollbarWidth)\n  }\n\n  Modal.prototype.resetScrollbar = function () {\n    this.$body.css('padding-right', this.originalBodyPad)\n  }\n\n  Modal.prototype.measureScrollbar = function () { // thx walsh\n    var scrollDiv = document.createElement('div')\n    scrollDiv.className = 'modal-scrollbar-measure'\n    this.$body.append(scrollDiv)\n    var scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth\n    this.$body[0].removeChild(scrollDiv)\n    return scrollbarWidth\n  }\n\n\n  // MODAL PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option, _relatedTarget) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.modal')\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\n\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\n      if (typeof option == 'string') data[option](_relatedTarget)\n      else if (options.show) data.show(_relatedTarget)\n    })\n  }\n\n  var old = $.fn.modal\n\n  $.fn.modal             = Plugin\n  $.fn.modal.Constructor = Modal\n\n\n  // MODAL NO CONFLICT\n  // =================\n\n  $.fn.modal.noConflict = function () {\n    $.fn.modal = old\n    return this\n  }\n\n\n  // MODAL DATA-API\n  // ==============\n\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\n    var $this   = $(this)\n    var href    = $this.attr('href')\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) // strip for ie7\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\n\n    if ($this.is('a')) e.preventDefault()\n\n    $target.one('show.bs.modal', function (showEvent) {\n      if (showEvent.isDefaultPrevented()) return // only register focus restorer if modal will actually get shown\n      $target.one('hidden.bs.modal', function () {\n        $this.is(':visible') && $this.trigger('focus')\n      })\n    })\n    Plugin.call($target, option, this)\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tooltip.js v3.3.7\n * http://getbootstrap.com/javascript/#tooltip\n * Inspired by the original jQuery.tipsy by Jason Frame\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TOOLTIP PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Tooltip = function (element, options) {\n    this.type       = null\n    this.options    = null\n    this.enabled    = null\n    this.timeout    = null\n    this.hoverState = null\n    this.$element   = null\n    this.inState    = null\n\n    this.init('tooltip', element, options)\n  }\n\n  Tooltip.VERSION  = '3.3.7'\n\n  Tooltip.TRANSITION_DURATION = 150\n\n  Tooltip.DEFAULTS = {\n    animation: true,\n    placement: 'top',\n    selector: false,\n    template: '<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',\n    trigger: 'hover focus',\n    title: '',\n    delay: 0,\n    html: false,\n    container: false,\n    viewport: {\n      selector: 'body',\n      padding: 0\n    }\n  }\n\n  Tooltip.prototype.init = function (type, element, options) {\n    this.enabled   = true\n    this.type      = type\n    this.$element  = $(element)\n    this.options   = this.getOptions(options)\n    this.$viewport = this.options.viewport && $($.isFunction(this.options.viewport) ? this.options.viewport.call(this, this.$element) : (this.options.viewport.selector || this.options.viewport))\n    this.inState   = { click: false, hover: false, focus: false }\n\n    if (this.$element[0] instanceof document.constructor && !this.options.selector) {\n      throw new Error('`selector` option must be specified when initializing ' + this.type + ' on the window.document object!')\n    }\n\n    var triggers = this.options.trigger.split(' ')\n\n    for (var i = triggers.length; i--;) {\n      var trigger = triggers[i]\n\n      if (trigger == 'click') {\n        this.$element.on('click.' + this.type, this.options.selector, $.proxy(this.toggle, this))\n      } else if (trigger != 'manual') {\n        var eventIn  = trigger == 'hover' ? 'mouseenter' : 'focusin'\n        var eventOut = trigger == 'hover' ? 'mouseleave' : 'focusout'\n\n        this.$element.on(eventIn  + '.' + this.type, this.options.selector, $.proxy(this.enter, this))\n        this.$element.on(eventOut + '.' + this.type, this.options.selector, $.proxy(this.leave, this))\n      }\n    }\n\n    this.options.selector ?\n      (this._options = $.extend({}, this.options, { trigger: 'manual', selector: '' })) :\n      this.fixTitle()\n  }\n\n  Tooltip.prototype.getDefaults = function () {\n    return Tooltip.DEFAULTS\n  }\n\n  Tooltip.prototype.getOptions = function (options) {\n    options = $.extend({}, this.getDefaults(), this.$element.data(), options)\n\n    if (options.delay && typeof options.delay == 'number') {\n      options.delay = {\n        show: options.delay,\n        hide: options.delay\n      }\n    }\n\n    return options\n  }\n\n  Tooltip.prototype.getDelegateOptions = function () {\n    var options  = {}\n    var defaults = this.getDefaults()\n\n    this._options && $.each(this._options, function (key, value) {\n      if (defaults[key] != value) options[key] = value\n    })\n\n    return options\n  }\n\n  Tooltip.prototype.enter = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusin' ? 'focus' : 'hover'] = true\n    }\n\n    if (self.tip().hasClass('in') || self.hoverState == 'in') {\n      self.hoverState = 'in'\n      return\n    }\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'in'\n\n    if (!self.options.delay || !self.options.delay.show) return self.show()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'in') self.show()\n    }, self.options.delay.show)\n  }\n\n  Tooltip.prototype.isInStateTrue = function () {\n    for (var key in this.inState) {\n      if (this.inState[key]) return true\n    }\n\n    return false\n  }\n\n  Tooltip.prototype.leave = function (obj) {\n    var self = obj instanceof this.constructor ?\n      obj : $(obj.currentTarget).data('bs.' + this.type)\n\n    if (!self) {\n      self = new this.constructor(obj.currentTarget, this.getDelegateOptions())\n      $(obj.currentTarget).data('bs.' + this.type, self)\n    }\n\n    if (obj instanceof $.Event) {\n      self.inState[obj.type == 'focusout' ? 'focus' : 'hover'] = false\n    }\n\n    if (self.isInStateTrue()) return\n\n    clearTimeout(self.timeout)\n\n    self.hoverState = 'out'\n\n    if (!self.options.delay || !self.options.delay.hide) return self.hide()\n\n    self.timeout = setTimeout(function () {\n      if (self.hoverState == 'out') self.hide()\n    }, self.options.delay.hide)\n  }\n\n  Tooltip.prototype.show = function () {\n    var e = $.Event('show.bs.' + this.type)\n\n    if (this.hasContent() && this.enabled) {\n      this.$element.trigger(e)\n\n      var inDom = $.contains(this.$element[0].ownerDocument.documentElement, this.$element[0])\n      if (e.isDefaultPrevented() || !inDom) return\n      var that = this\n\n      var $tip = this.tip()\n\n      var tipId = this.getUID(this.type)\n\n      this.setContent()\n      $tip.attr('id', tipId)\n      this.$element.attr('aria-describedby', tipId)\n\n      if (this.options.animation) $tip.addClass('fade')\n\n      var placement = typeof this.options.placement == 'function' ?\n        this.options.placement.call(this, $tip[0], this.$element[0]) :\n        this.options.placement\n\n      var autoToken = /\\s?auto?\\s?/i\n      var autoPlace = autoToken.test(placement)\n      if (autoPlace) placement = placement.replace(autoToken, '') || 'top'\n\n      $tip\n        .detach()\n        .css({ top: 0, left: 0, display: 'block' })\n        .addClass(placement)\n        .data('bs.' + this.type, this)\n\n      this.options.container ? $tip.appendTo(this.options.container) : $tip.insertAfter(this.$element)\n      this.$element.trigger('inserted.bs.' + this.type)\n\n      var pos          = this.getPosition()\n      var actualWidth  = $tip[0].offsetWidth\n      var actualHeight = $tip[0].offsetHeight\n\n      if (autoPlace) {\n        var orgPlacement = placement\n        var viewportDim = this.getPosition(this.$viewport)\n\n        placement = placement == 'bottom' && pos.bottom + actualHeight > viewportDim.bottom ? 'top'    :\n                    placement == 'top'    && pos.top    - actualHeight < viewportDim.top    ? 'bottom' :\n                    placement == 'right'  && pos.right  + actualWidth  > viewportDim.width  ? 'left'   :\n                    placement == 'left'   && pos.left   - actualWidth  < viewportDim.left   ? 'right'  :\n                    placement\n\n        $tip\n          .removeClass(orgPlacement)\n          .addClass(placement)\n      }\n\n      var calculatedOffset = this.getCalculatedOffset(placement, pos, actualWidth, actualHeight)\n\n      this.applyPlacement(calculatedOffset, placement)\n\n      var complete = function () {\n        var prevHoverState = that.hoverState\n        that.$element.trigger('shown.bs.' + that.type)\n        that.hoverState = null\n\n        if (prevHoverState == 'out') that.leave(that)\n      }\n\n      $.support.transition && this.$tip.hasClass('fade') ?\n        $tip\n          .one('bsTransitionEnd', complete)\n          .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n        complete()\n    }\n  }\n\n  Tooltip.prototype.applyPlacement = function (offset, placement) {\n    var $tip   = this.tip()\n    var width  = $tip[0].offsetWidth\n    var height = $tip[0].offsetHeight\n\n    // manually read margins because getBoundingClientRect includes difference\n    var marginTop = parseInt($tip.css('margin-top'), 10)\n    var marginLeft = parseInt($tip.css('margin-left'), 10)\n\n    // we must check for NaN for ie 8/9\n    if (isNaN(marginTop))  marginTop  = 0\n    if (isNaN(marginLeft)) marginLeft = 0\n\n    offset.top  += marginTop\n    offset.left += marginLeft\n\n    // $.fn.offset doesn't round pixel values\n    // so we use setOffset directly with our own function B-0\n    $.offset.setOffset($tip[0], $.extend({\n      using: function (props) {\n        $tip.css({\n          top: Math.round(props.top),\n          left: Math.round(props.left)\n        })\n      }\n    }, offset), 0)\n\n    $tip.addClass('in')\n\n    // check to see if placing tip in new offset caused the tip to resize itself\n    var actualWidth  = $tip[0].offsetWidth\n    var actualHeight = $tip[0].offsetHeight\n\n    if (placement == 'top' && actualHeight != height) {\n      offset.top = offset.top + height - actualHeight\n    }\n\n    var delta = this.getViewportAdjustedDelta(placement, offset, actualWidth, actualHeight)\n\n    if (delta.left) offset.left += delta.left\n    else offset.top += delta.top\n\n    var isVertical          = /top|bottom/.test(placement)\n    var arrowDelta          = isVertical ? delta.left * 2 - width + actualWidth : delta.top * 2 - height + actualHeight\n    var arrowOffsetPosition = isVertical ? 'offsetWidth' : 'offsetHeight'\n\n    $tip.offset(offset)\n    this.replaceArrow(arrowDelta, $tip[0][arrowOffsetPosition], isVertical)\n  }\n\n  Tooltip.prototype.replaceArrow = function (delta, dimension, isVertical) {\n    this.arrow()\n      .css(isVertical ? 'left' : 'top', 50 * (1 - delta / dimension) + '%')\n      .css(isVertical ? 'top' : 'left', '')\n  }\n\n  Tooltip.prototype.setContent = function () {\n    var $tip  = this.tip()\n    var title = this.getTitle()\n\n    $tip.find('.tooltip-inner')[this.options.html ? 'html' : 'text'](title)\n    $tip.removeClass('fade in top bottom left right')\n  }\n\n  Tooltip.prototype.hide = function (callback) {\n    var that = this\n    var $tip = $(this.$tip)\n    var e    = $.Event('hide.bs.' + this.type)\n\n    function complete() {\n      if (that.hoverState != 'in') $tip.detach()\n      if (that.$element) { // TODO: Check whether guarding this code with this `if` is really necessary.\n        that.$element\n          .removeAttr('aria-describedby')\n          .trigger('hidden.bs.' + that.type)\n      }\n      callback && callback()\n    }\n\n    this.$element.trigger(e)\n\n    if (e.isDefaultPrevented()) return\n\n    $tip.removeClass('in')\n\n    $.support.transition && $tip.hasClass('fade') ?\n      $tip\n        .one('bsTransitionEnd', complete)\n        .emulateTransitionEnd(Tooltip.TRANSITION_DURATION) :\n      complete()\n\n    this.hoverState = null\n\n    return this\n  }\n\n  Tooltip.prototype.fixTitle = function () {\n    var $e = this.$element\n    if ($e.attr('title') || typeof $e.attr('data-original-title') != 'string') {\n      $e.attr('data-original-title', $e.attr('title') || '').attr('title', '')\n    }\n  }\n\n  Tooltip.prototype.hasContent = function () {\n    return this.getTitle()\n  }\n\n  Tooltip.prototype.getPosition = function ($element) {\n    $element   = $element || this.$element\n\n    var el     = $element[0]\n    var isBody = el.tagName == 'BODY'\n\n    var elRect    = el.getBoundingClientRect()\n    if (elRect.width == null) {\n      // width and height are missing in IE8, so compute them manually; see https://github.com/twbs/bootstrap/issues/14093\n      elRect = $.extend({}, elRect, { width: elRect.right - elRect.left, height: elRect.bottom - elRect.top })\n    }\n    var isSvg = window.SVGElement && el instanceof window.SVGElement\n    // Avoid using $.offset() on SVGs since it gives incorrect results in jQuery 3.\n    // See https://github.com/twbs/bootstrap/issues/20280\n    var elOffset  = isBody ? { top: 0, left: 0 } : (isSvg ? null : $element.offset())\n    var scroll    = { scroll: isBody ? document.documentElement.scrollTop || document.body.scrollTop : $element.scrollTop() }\n    var outerDims = isBody ? { width: $(window).width(), height: $(window).height() } : null\n\n    return $.extend({}, elRect, scroll, outerDims, elOffset)\n  }\n\n  Tooltip.prototype.getCalculatedOffset = function (placement, pos, actualWidth, actualHeight) {\n    return placement == 'bottom' ? { top: pos.top + pos.height,   left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'top'    ? { top: pos.top - actualHeight, left: pos.left + pos.width / 2 - actualWidth / 2 } :\n           placement == 'left'   ? { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth } :\n        /* placement == 'right' */ { top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width }\n\n  }\n\n  Tooltip.prototype.getViewportAdjustedDelta = function (placement, pos, actualWidth, actualHeight) {\n    var delta = { top: 0, left: 0 }\n    if (!this.$viewport) return delta\n\n    var viewportPadding = this.options.viewport && this.options.viewport.padding || 0\n    var viewportDimensions = this.getPosition(this.$viewport)\n\n    if (/right|left/.test(placement)) {\n      var topEdgeOffset    = pos.top - viewportPadding - viewportDimensions.scroll\n      var bottomEdgeOffset = pos.top + viewportPadding - viewportDimensions.scroll + actualHeight\n      if (topEdgeOffset < viewportDimensions.top) { // top overflow\n        delta.top = viewportDimensions.top - topEdgeOffset\n      } else if (bottomEdgeOffset > viewportDimensions.top + viewportDimensions.height) { // bottom overflow\n        delta.top = viewportDimensions.top + viewportDimensions.height - bottomEdgeOffset\n      }\n    } else {\n      var leftEdgeOffset  = pos.left - viewportPadding\n      var rightEdgeOffset = pos.left + viewportPadding + actualWidth\n      if (leftEdgeOffset < viewportDimensions.left) { // left overflow\n        delta.left = viewportDimensions.left - leftEdgeOffset\n      } else if (rightEdgeOffset > viewportDimensions.right) { // right overflow\n        delta.left = viewportDimensions.left + viewportDimensions.width - rightEdgeOffset\n      }\n    }\n\n    return delta\n  }\n\n  Tooltip.prototype.getTitle = function () {\n    var title\n    var $e = this.$element\n    var o  = this.options\n\n    title = $e.attr('data-original-title')\n      || (typeof o.title == 'function' ? o.title.call($e[0]) :  o.title)\n\n    return title\n  }\n\n  Tooltip.prototype.getUID = function (prefix) {\n    do prefix += ~~(Math.random() * 1000000)\n    while (document.getElementById(prefix))\n    return prefix\n  }\n\n  Tooltip.prototype.tip = function () {\n    if (!this.$tip) {\n      this.$tip = $(this.options.template)\n      if (this.$tip.length != 1) {\n        throw new Error(this.type + ' `template` option must consist of exactly 1 top-level element!')\n      }\n    }\n    return this.$tip\n  }\n\n  Tooltip.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.tooltip-arrow'))\n  }\n\n  Tooltip.prototype.enable = function () {\n    this.enabled = true\n  }\n\n  Tooltip.prototype.disable = function () {\n    this.enabled = false\n  }\n\n  Tooltip.prototype.toggleEnabled = function () {\n    this.enabled = !this.enabled\n  }\n\n  Tooltip.prototype.toggle = function (e) {\n    var self = this\n    if (e) {\n      self = $(e.currentTarget).data('bs.' + this.type)\n      if (!self) {\n        self = new this.constructor(e.currentTarget, this.getDelegateOptions())\n        $(e.currentTarget).data('bs.' + this.type, self)\n      }\n    }\n\n    if (e) {\n      self.inState.click = !self.inState.click\n      if (self.isInStateTrue()) self.enter(self)\n      else self.leave(self)\n    } else {\n      self.tip().hasClass('in') ? self.leave(self) : self.enter(self)\n    }\n  }\n\n  Tooltip.prototype.destroy = function () {\n    var that = this\n    clearTimeout(this.timeout)\n    this.hide(function () {\n      that.$element.off('.' + that.type).removeData('bs.' + that.type)\n      if (that.$tip) {\n        that.$tip.detach()\n      }\n      that.$tip = null\n      that.$arrow = null\n      that.$viewport = null\n      that.$element = null\n    })\n  }\n\n\n  // TOOLTIP PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.tooltip')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.tooltip', (data = new Tooltip(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tooltip\n\n  $.fn.tooltip             = Plugin\n  $.fn.tooltip.Constructor = Tooltip\n\n\n  // TOOLTIP NO CONFLICT\n  // ===================\n\n  $.fn.tooltip.noConflict = function () {\n    $.fn.tooltip = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: popover.js v3.3.7\n * http://getbootstrap.com/javascript/#popovers\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // POPOVER PUBLIC CLASS DEFINITION\n  // ===============================\n\n  var Popover = function (element, options) {\n    this.init('popover', element, options)\n  }\n\n  if (!$.fn.tooltip) throw new Error('Popover requires tooltip.js')\n\n  Popover.VERSION  = '3.3.7'\n\n  Popover.DEFAULTS = $.extend({}, $.fn.tooltip.Constructor.DEFAULTS, {\n    placement: 'right',\n    trigger: 'click',\n    content: '',\n    template: '<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'\n  })\n\n\n  // NOTE: POPOVER EXTENDS tooltip.js\n  // ================================\n\n  Popover.prototype = $.extend({}, $.fn.tooltip.Constructor.prototype)\n\n  Popover.prototype.constructor = Popover\n\n  Popover.prototype.getDefaults = function () {\n    return Popover.DEFAULTS\n  }\n\n  Popover.prototype.setContent = function () {\n    var $tip    = this.tip()\n    var title   = this.getTitle()\n    var content = this.getContent()\n\n    $tip.find('.popover-title')[this.options.html ? 'html' : 'text'](title)\n    $tip.find('.popover-content').children().detach().end()[ // we use append for html objects to maintain js events\n      this.options.html ? (typeof content == 'string' ? 'html' : 'append') : 'text'\n    ](content)\n\n    $tip.removeClass('fade top bottom left right in')\n\n    // IE8 doesn't accept hiding via the `:empty` pseudo selector, we have to do\n    // this manually by checking the contents.\n    if (!$tip.find('.popover-title').html()) $tip.find('.popover-title').hide()\n  }\n\n  Popover.prototype.hasContent = function () {\n    return this.getTitle() || this.getContent()\n  }\n\n  Popover.prototype.getContent = function () {\n    var $e = this.$element\n    var o  = this.options\n\n    return $e.attr('data-content')\n      || (typeof o.content == 'function' ?\n            o.content.call($e[0]) :\n            o.content)\n  }\n\n  Popover.prototype.arrow = function () {\n    return (this.$arrow = this.$arrow || this.tip().find('.arrow'))\n  }\n\n\n  // POPOVER PLUGIN DEFINITION\n  // =========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.popover')\n      var options = typeof option == 'object' && option\n\n      if (!data && /destroy|hide/.test(option)) return\n      if (!data) $this.data('bs.popover', (data = new Popover(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.popover\n\n  $.fn.popover             = Plugin\n  $.fn.popover.Constructor = Popover\n\n\n  // POPOVER NO CONFLICT\n  // ===================\n\n  $.fn.popover.noConflict = function () {\n    $.fn.popover = old\n    return this\n  }\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: scrollspy.js v3.3.7\n * http://getbootstrap.com/javascript/#scrollspy\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // SCROLLSPY CLASS DEFINITION\n  // ==========================\n\n  function ScrollSpy(element, options) {\n    this.$body          = $(document.body)\n    this.$scrollElement = $(element).is(document.body) ? $(window) : $(element)\n    this.options        = $.extend({}, ScrollSpy.DEFAULTS, options)\n    this.selector       = (this.options.target || '') + ' .nav li > a'\n    this.offsets        = []\n    this.targets        = []\n    this.activeTarget   = null\n    this.scrollHeight   = 0\n\n    this.$scrollElement.on('scroll.bs.scrollspy', $.proxy(this.process, this))\n    this.refresh()\n    this.process()\n  }\n\n  ScrollSpy.VERSION  = '3.3.7'\n\n  ScrollSpy.DEFAULTS = {\n    offset: 10\n  }\n\n  ScrollSpy.prototype.getScrollHeight = function () {\n    return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)\n  }\n\n  ScrollSpy.prototype.refresh = function () {\n    var that          = this\n    var offsetMethod  = 'offset'\n    var offsetBase    = 0\n\n    this.offsets      = []\n    this.targets      = []\n    this.scrollHeight = this.getScrollHeight()\n\n    if (!$.isWindow(this.$scrollElement[0])) {\n      offsetMethod = 'position'\n      offsetBase   = this.$scrollElement.scrollTop()\n    }\n\n    this.$body\n      .find(this.selector)\n      .map(function () {\n        var $el   = $(this)\n        var href  = $el.data('target') || $el.attr('href')\n        var $href = /^#./.test(href) && $(href)\n\n        return ($href\n          && $href.length\n          && $href.is(':visible')\n          && [[$href[offsetMethod]().top + offsetBase, href]]) || null\n      })\n      .sort(function (a, b) { return a[0] - b[0] })\n      .each(function () {\n        that.offsets.push(this[0])\n        that.targets.push(this[1])\n      })\n  }\n\n  ScrollSpy.prototype.process = function () {\n    var scrollTop    = this.$scrollElement.scrollTop() + this.options.offset\n    var scrollHeight = this.getScrollHeight()\n    var maxScroll    = this.options.offset + scrollHeight - this.$scrollElement.height()\n    var offsets      = this.offsets\n    var targets      = this.targets\n    var activeTarget = this.activeTarget\n    var i\n\n    if (this.scrollHeight != scrollHeight) {\n      this.refresh()\n    }\n\n    if (scrollTop >= maxScroll) {\n      return activeTarget != (i = targets[targets.length - 1]) && this.activate(i)\n    }\n\n    if (activeTarget && scrollTop < offsets[0]) {\n      this.activeTarget = null\n      return this.clear()\n    }\n\n    for (i = offsets.length; i--;) {\n      activeTarget != targets[i]\n        && scrollTop >= offsets[i]\n        && (offsets[i + 1] === undefined || scrollTop < offsets[i + 1])\n        && this.activate(targets[i])\n    }\n  }\n\n  ScrollSpy.prototype.activate = function (target) {\n    this.activeTarget = target\n\n    this.clear()\n\n    var selector = this.selector +\n      '[data-target=\"' + target + '\"],' +\n      this.selector + '[href=\"' + target + '\"]'\n\n    var active = $(selector)\n      .parents('li')\n      .addClass('active')\n\n    if (active.parent('.dropdown-menu').length) {\n      active = active\n        .closest('li.dropdown')\n        .addClass('active')\n    }\n\n    active.trigger('activate.bs.scrollspy')\n  }\n\n  ScrollSpy.prototype.clear = function () {\n    $(this.selector)\n      .parentsUntil(this.options.target, '.active')\n      .removeClass('active')\n  }\n\n\n  // SCROLLSPY PLUGIN DEFINITION\n  // ===========================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.scrollspy')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.scrollspy', (data = new ScrollSpy(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.scrollspy\n\n  $.fn.scrollspy             = Plugin\n  $.fn.scrollspy.Constructor = ScrollSpy\n\n\n  // SCROLLSPY NO CONFLICT\n  // =====================\n\n  $.fn.scrollspy.noConflict = function () {\n    $.fn.scrollspy = old\n    return this\n  }\n\n\n  // SCROLLSPY DATA-API\n  // ==================\n\n  $(window).on('load.bs.scrollspy.data-api', function () {\n    $('[data-spy=\"scroll\"]').each(function () {\n      var $spy = $(this)\n      Plugin.call($spy, $spy.data())\n    })\n  })\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: tab.js v3.3.7\n * http://getbootstrap.com/javascript/#tabs\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // TAB CLASS DEFINITION\n  // ====================\n\n  var Tab = function (element) {\n    // jscs:disable requireDollarBeforejQueryAssignment\n    this.element = $(element)\n    // jscs:enable requireDollarBeforejQueryAssignment\n  }\n\n  Tab.VERSION = '3.3.7'\n\n  Tab.TRANSITION_DURATION = 150\n\n  Tab.prototype.show = function () {\n    var $this    = this.element\n    var $ul      = $this.closest('ul:not(.dropdown-menu)')\n    var selector = $this.data('target')\n\n    if (!selector) {\n      selector = $this.attr('href')\n      selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, '') // strip for ie7\n    }\n\n    if ($this.parent('li').hasClass('active')) return\n\n    var $previous = $ul.find('.active:last a')\n    var hideEvent = $.Event('hide.bs.tab', {\n      relatedTarget: $this[0]\n    })\n    var showEvent = $.Event('show.bs.tab', {\n      relatedTarget: $previous[0]\n    })\n\n    $previous.trigger(hideEvent)\n    $this.trigger(showEvent)\n\n    if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) return\n\n    var $target = $(selector)\n\n    this.activate($this.closest('li'), $ul)\n    this.activate($target, $target.parent(), function () {\n      $previous.trigger({\n        type: 'hidden.bs.tab',\n        relatedTarget: $this[0]\n      })\n      $this.trigger({\n        type: 'shown.bs.tab',\n        relatedTarget: $previous[0]\n      })\n    })\n  }\n\n  Tab.prototype.activate = function (element, container, callback) {\n    var $active    = container.find('> .active')\n    var transition = callback\n      && $.support.transition\n      && ($active.length && $active.hasClass('fade') || !!container.find('> .fade').length)\n\n    function next() {\n      $active\n        .removeClass('active')\n        .find('> .dropdown-menu > .active')\n          .removeClass('active')\n        .end()\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', false)\n\n      element\n        .addClass('active')\n        .find('[data-toggle=\"tab\"]')\n          .attr('aria-expanded', true)\n\n      if (transition) {\n        element[0].offsetWidth // reflow for transition\n        element.addClass('in')\n      } else {\n        element.removeClass('fade')\n      }\n\n      if (element.parent('.dropdown-menu').length) {\n        element\n          .closest('li.dropdown')\n            .addClass('active')\n          .end()\n          .find('[data-toggle=\"tab\"]')\n            .attr('aria-expanded', true)\n      }\n\n      callback && callback()\n    }\n\n    $active.length && transition ?\n      $active\n        .one('bsTransitionEnd', next)\n        .emulateTransitionEnd(Tab.TRANSITION_DURATION) :\n      next()\n\n    $active.removeClass('in')\n  }\n\n\n  // TAB PLUGIN DEFINITION\n  // =====================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this = $(this)\n      var data  = $this.data('bs.tab')\n\n      if (!data) $this.data('bs.tab', (data = new Tab(this)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.tab\n\n  $.fn.tab             = Plugin\n  $.fn.tab.Constructor = Tab\n\n\n  // TAB NO CONFLICT\n  // ===============\n\n  $.fn.tab.noConflict = function () {\n    $.fn.tab = old\n    return this\n  }\n\n\n  // TAB DATA-API\n  // ============\n\n  var clickHandler = function (e) {\n    e.preventDefault()\n    Plugin.call($(this), 'show')\n  }\n\n  $(document)\n    .on('click.bs.tab.data-api', '[data-toggle=\"tab\"]', clickHandler)\n    .on('click.bs.tab.data-api', '[data-toggle=\"pill\"]', clickHandler)\n\n}(jQuery);\n\n/* ========================================================================\n * Bootstrap: affix.js v3.3.7\n * http://getbootstrap.com/javascript/#affix\n * ========================================================================\n * Copyright 2011-2016 Twitter, Inc.\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\n * ======================================================================== */\n\n\n+function ($) {\n  'use strict';\n\n  // AFFIX CLASS DEFINITION\n  // ======================\n\n  var Affix = function (element, options) {\n    this.options = $.extend({}, Affix.DEFAULTS, options)\n\n    this.$target = $(this.options.target)\n      .on('scroll.bs.affix.data-api', $.proxy(this.checkPosition, this))\n      .on('click.bs.affix.data-api',  $.proxy(this.checkPositionWithEventLoop, this))\n\n    this.$element     = $(element)\n    this.affixed      = null\n    this.unpin        = null\n    this.pinnedOffset = null\n\n    this.checkPosition()\n  }\n\n  Affix.VERSION  = '3.3.7'\n\n  Affix.RESET    = 'affix affix-top affix-bottom'\n\n  Affix.DEFAULTS = {\n    offset: 0,\n    target: window\n  }\n\n  Affix.prototype.getState = function (scrollHeight, height, offsetTop, offsetBottom) {\n    var scrollTop    = this.$target.scrollTop()\n    var position     = this.$element.offset()\n    var targetHeight = this.$target.height()\n\n    if (offsetTop != null && this.affixed == 'top') return scrollTop < offsetTop ? 'top' : false\n\n    if (this.affixed == 'bottom') {\n      if (offsetTop != null) return (scrollTop + this.unpin <= position.top) ? false : 'bottom'\n      return (scrollTop + targetHeight <= scrollHeight - offsetBottom) ? false : 'bottom'\n    }\n\n    var initializing   = this.affixed == null\n    var colliderTop    = initializing ? scrollTop : position.top\n    var colliderHeight = initializing ? targetHeight : height\n\n    if (offsetTop != null && scrollTop <= offsetTop) return 'top'\n    if (offsetBottom != null && (colliderTop + colliderHeight >= scrollHeight - offsetBottom)) return 'bottom'\n\n    return false\n  }\n\n  Affix.prototype.getPinnedOffset = function () {\n    if (this.pinnedOffset) return this.pinnedOffset\n    this.$element.removeClass(Affix.RESET).addClass('affix')\n    var scrollTop = this.$target.scrollTop()\n    var position  = this.$element.offset()\n    return (this.pinnedOffset = position.top - scrollTop)\n  }\n\n  Affix.prototype.checkPositionWithEventLoop = function () {\n    setTimeout($.proxy(this.checkPosition, this), 1)\n  }\n\n  Affix.prototype.checkPosition = function () {\n    if (!this.$element.is(':visible')) return\n\n    var height       = this.$element.height()\n    var offset       = this.options.offset\n    var offsetTop    = offset.top\n    var offsetBottom = offset.bottom\n    var scrollHeight = Math.max($(document).height(), $(document.body).height())\n\n    if (typeof offset != 'object')         offsetBottom = offsetTop = offset\n    if (typeof offsetTop == 'function')    offsetTop    = offset.top(this.$element)\n    if (typeof offsetBottom == 'function') offsetBottom = offset.bottom(this.$element)\n\n    var affix = this.getState(scrollHeight, height, offsetTop, offsetBottom)\n\n    if (this.affixed != affix) {\n      if (this.unpin != null) this.$element.css('top', '')\n\n      var affixType = 'affix' + (affix ? '-' + affix : '')\n      var e         = $.Event(affixType + '.bs.affix')\n\n      this.$element.trigger(e)\n\n      if (e.isDefaultPrevented()) return\n\n      this.affixed = affix\n      this.unpin = affix == 'bottom' ? this.getPinnedOffset() : null\n\n      this.$element\n        .removeClass(Affix.RESET)\n        .addClass(affixType)\n        .trigger(affixType.replace('affix', 'affixed') + '.bs.affix')\n    }\n\n    if (affix == 'bottom') {\n      this.$element.offset({\n        top: scrollHeight - height - offsetBottom\n      })\n    }\n  }\n\n\n  // AFFIX PLUGIN DEFINITION\n  // =======================\n\n  function Plugin(option) {\n    return this.each(function () {\n      var $this   = $(this)\n      var data    = $this.data('bs.affix')\n      var options = typeof option == 'object' && option\n\n      if (!data) $this.data('bs.affix', (data = new Affix(this, options)))\n      if (typeof option == 'string') data[option]()\n    })\n  }\n\n  var old = $.fn.affix\n\n  $.fn.affix             = Plugin\n  $.fn.affix.Constructor = Affix\n\n\n  // AFFIX NO CONFLICT\n  // =================\n\n  $.fn.affix.noConflict = function () {\n    $.fn.affix = old\n    return this\n  }\n\n\n  // AFFIX DATA-API\n  // ==============\n\n  $(window).on('load', function () {\n    $('[data-spy=\"affix\"]').each(function () {\n      var $spy = $(this)\n      var data = $spy.data()\n\n      data.offset = data.offset || {}\n\n      if (data.offsetBottom != null) data.offset.bottom = data.offsetBottom\n      if (data.offsetTop    != null) data.offset.top    = data.offsetTop\n\n      Plugin.call($spy, data)\n    })\n  })\n\n}(jQuery);\n","import * as $ from 'jquery';\nimport bootstrap from \"../../ui/2.js\";\nimport \"./routes.js\";\n","import \"../../ui/layouts/main.js\";\n\nRouter.route(\"/\", {\n  name: \"stylometry\",\n  onBeforeAction: function() {\n    import \"../../ui/pages/stylometry.js\";\n    this.render(\"stylometrytable\", {to: \"stylooption\"});\n    this.next();\n  }\n});\n\nRouter.route(\"/sresults\", {\n  name: \"sresults\",\n  onBeforeAction: function() {\n    import \"../../ui/pages/sresults.js\";\n    this.render(\"stylometrytable\", {to: \"stylooption\"});\n    this.next();\n  }\n});\n\nRouter.route(\"/(.*)\", {\n  onBeforeAction: function() {\n    Router.go(\"/\"), this.next();\n  }\n});\n\nRouter.configure({\n  layoutTemplate: \"mainlayout\"\n});\n","import '/imports/startup/client';"]}